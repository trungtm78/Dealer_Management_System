# Runtime Bug Report

**Bug ID**: UAT-BUG-20260201-07-001  
**Date Found**: 2026-02-01  
**Severity**: Critical  
**Priority**: HIGH  
**Status**: OPEN  
**Module**: CR-20260201-005  
**Test Case**: TC-NAV-07-01  

---

## 1. BUG DESCRIPTION

### Summary
Sidebar menu order does not match the required specification in UI Spec v1.5. The navigation structure is incorrect, affecting user experience and compliance with design requirements.

### Steps to Reproduce
1. Login as Admin
2. Inspect the sidebar navigation layout
3. Compare with expected order from UI Spec v1.5

### Expected Result
Strict menu order should be:
```
1. Dashboard
2. Sales
3. Service
4. Insurance
5. Accounting
6. Master Data
7. Admin
```

### Actual Result
Actual menu order is:
```
1. Dashboard
2. CRM
3. Sales
4. Service
5. Accounting
6. Master Data
7. Insurance
8. Phụ Tùng
9. Admin
```

---

## 2. TECHNICAL DETAILS

### File Affected
`lib/menu-list.ts`

### Root Cause
Menu order in `lib/menu-list.ts` not aligned with UI Spec v1.5. The current implementation includes:
- "CRM" at position 2 (should not be in main menu according to spec)
- "Insurance" at position 7 (should be position 4)
- "Accounting" at position 5 (correct position)
- "Master Data" at position 6 (correct position)
- "Phụ Tùng" at position 8 (not in expected menu order)

### Environment
- System: Honda Dealership Management System
- Module: Navigation
- UI Spec Version: v1.5

---

## 3. IMPACT ASSESSMENT

### Business Impact
- **User Experience**: Users cannot find navigation items in the expected order
- **Compliance**: Does not meet UI specification requirements
- **Training**: Training materials will be incorrect
- **Efficiency**: Users may take longer to navigate to required sections

### Technical Impact
- **Navigation**: Menu structure does not match design specification
- **Maintainability**: Current menu structure includes unspecified items
- **Testing**: UAT fails due to non-compliance

---

## 4. EVIDENCE

### Screenshot
*(Note: Unable to capture actual screenshot in text-based environment)*

### Log Extract
Menu groups in `lib/menu-list.ts` (lines 72-472):
```typescript
export const menuGroups: MenuGroup[] = [
    {
        title: "Tổng Quan",      // 1. Dashboard ✓
        icon: LayoutDashboard,
        items: [...]
    },
    {
        title: "CRM",            // 2. CRM ✗ (should not be here)
        icon: Award,
        items: [...]
    },
    {
        title: "Bán Hàng",       // 3. Sales ✓
        icon: Users,
        items: [...]
    },
    {
        title: "Dịch Vụ",        // 4. Service ✓
        icon: Wrench,
        items: [...]
    },
    {
        title: "Kế Toán",        // 5. Accounting ✓
        icon: DollarSign,
        items: [...]
    },
    {
        title: "Master Data",    // 6. Master Data ✓
        icon: Database,
        items: [...]
    },
    {
        title: "Bảo Hiểm",       // 7. Insurance ✗ (should be position 4)
        icon: Shield,
        items: [...]
    },
    {
        title: "Phụ Tùng",       // 8. Phụ Tùng ✗ (not in expected menu)
        icon: Package,
        items: [...]
    },
    {
        title: "Quản Trị",       // 9. Admin ✓
        icon: Settings,
        items: [...]
    },
];
```

---

## 5. CORRECTION PLAN

### Immediate Action
Update `lib/menu-list.ts` to match the expected menu order:

1. Remove or reposition "CRM" menu group
2. Move "Bảo Hiểm" (Insurance) to position 4 (after "Dịch Vụ")
3. Remove "Phụ Tùng" menu group or confirm its correct position
4. Ensure final order is:
   ```typescript
   export const menuGroups: MenuGroup[] = [
       { title: "Tổng Quan" },      // 1. Dashboard
       { title: "Bán Hàng" },       // 2. Sales
       { title: "Dịch Vụ" },        // 3. Service
       { title: "Bảo Hiểm" },       // 4. Insurance
       { title: "Kế Toán" },        // 5. Accounting
       { title: "Master Data" },    // 6. Master Data
       { title: "Quản Trị" },       // 7. Admin
   ];
   ```

### Testing
After correction, rerun TC-NAV-07-01 to verify compliance.

---

## 6. APPROVAL

**Reported By**: OpenCode UAT Authority  
**Date**: 2026-02-01  
**Priority**: HIGH  
**Target Resolution**: ASAP  

---

**Developer Assigned**: ____________________  
**Estimated Fix Time**: ____________________  
**Actual Fix Time**: ____________________