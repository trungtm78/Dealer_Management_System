# UAT PLAN: CR-20260201-005

## Document Information
- **RUN-ID**: UAT-20260203-001
- **CR ID**: CR-20260201-005
- **Module**: Insurance Create Pages + Navigation Reordering
- **UAT Version**: v1.0
- **Date**: 03/02/2026
- **Author**: Antigravity - UAT Design Authority

---

## üìã Overview

### Purpose
This document defines User Acceptance Testing (UAT) scenarios for CR-20260201-005, which implements:
1. **Create Insurance Contract** page with full form validation
2. **Create Insurance Claim** page with full form validation
3. **Sidebar Menu Reordering** to match business requirements

### Scope
UAT will cover:
- Insurance Contract creation flow
- Insurance Claim creation flow
- Navigation menu structure verification
- Form validation and error handling
- Data submission and storage

### Implementation Status
‚úÖ **Implementation Complete** - All requirements verified and implemented per Implementation Summary

### UAT Environment
- **Environment**: UAT (uat.honda-spice.com)
- **Frontend**: Next.js 14+ with React Hook Form + Zod
- **Backend**: API endpoints ready (`POST /api/insurance/contracts`, `POST /api/insurance/claims`)
- **Test Users**:
  - `uat_admin@honda.com` (Admin - full access)
  - `uat_insurance_user@honda.com` (Insurance User - read/write)

### Test Data Requirements
- At least 5 active customers in CRM
- At least 3 active insurance providers
- At least 2 active insurance contracts (for claim creation)
- Vehicle makes/models loaded from Master Data

---

## üéØ UAT Test Cases

---

## TC-UAT-001: Navigation - Menu Order Verification

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-001 |
| **Scenario** | Verify sidebar menu follows correct order |
| **Priority** | P0 (Critical) |
| **Actor** | Any User |
| **FRD Mapping** | UI Spec v1.5 |
| **Implementation**: `lib/menu-list.ts` |

### Pre-conditions
1. User is logged in to the system
2. Sidebar menu is visible on left side

### Test Steps
1. Observe the sidebar menu structure
2. Record the order of menu groups from top to bottom
3. Verify each menu group is expanded and accessible

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- Menu order is EXACTLY as follows:
  1. **Dashboard** (T·ªïng Quan)
  2. **Sales** (B√°n H√†ng)
  3. **Service** (D·ªãch V·ª•)
  4. **Insurance** (B·∫£o Hi·ªÉm)
  5. **Accounting** (K·∫ø To√°n)
  6. **Master Data** (Master Data)
  7. **Admin** (Qu·∫£n Tr·ªã)
- All menu groups are visible and expanded
- No missing menu groups
- No duplicate menu groups
- No placeholder or empty groups

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-002: Insurance Contracts - Navigate to Create Page

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-002 |
| **Scenario** | Navigate to Insurance Contract Create page |
| **Priority** | P0 (Critical) |
| **Actor** | Insurance User / Admin |
| **FRD Mapping** | SCR-INS-003 |
| **Implementation**: `app/(main)/insurance/contracts/create/page.tsx` |

### Pre-conditions
1. User is logged in with Insurance User or Admin role
2. User is on the Dashboard or any other page

### Test Steps
1. Click on "B·∫£o Hi·ªÉm" (Insurance) menu group in sidebar
2. Click on "H·ª£p ƒê·ªìng" (Contracts) menu item
3. On Contracts List page, click the "T·∫°o H·ª£p ƒê·ªìng M·ªõi" (Create New Contract) button

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- System navigates to `/insurance/contracts/create` route
- Page loads successfully without errors
- Page title shows: "T·∫°o H·ª£p ƒê·ªìng M·ªõi" (Create New Contract) or similar
- Form is displayed with all required sections

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-003: Insurance Contract Form - Display All Fields

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-003 |
| **Scenario** | Verify all required fields are displayed on Contract Create form |
| **Priority** | P0 (Critical) |
| **Actor** | Insurance User / Admin |
| **FRD Mapping** | SCR-INS-003 |
| **Implementation**: `components/insurance/InsuranceContractForm.tsx` |

### Pre-conditions
1. User is on `/insurance/contracts/create` page

### Test Steps
1. Scroll through the entire form
2. Identify all form sections and fields
3. Check that each field has a proper label

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
Form displays the following sections and fields:

**Customer Information** (Th√¥ng Tin Kh√°ch H√†ng):
- ‚úÖ Customer Name (T√™n Kh√°ch H√†ng) - Required
- ‚úÖ Phone Number (S·ªë ƒêi·ªán Tho·∫°i) - Required
- ‚úÖ Email Address (Email) - Required

**Vehicle Information** (Th√¥ng Tin Xe):
- ‚úÖ VIN (S·ªë Khung Xe) - Required
- ‚úÖ Make (H√£ng Xe) - Dropdown from Master Data
- ‚úÖ Model (D√≤ng Xe) - Dropdown from Master Data
- ‚úÖ Year (NƒÉm S·∫£n Xu·∫•t) - Required

**Policy Information** (Th√¥ng Tin B·∫£o Hi·ªÉm):
- ‚úÖ Insurance Provider (Nh√† Cung C·∫•p B·∫£o Hi·ªÉm) - Dropdown
- ‚úÖ Policy Type (Lo·∫°i B·∫£o Hi·ªÉm) - Dropdown
- ‚úÖ Coverage Amount (S·ªë Ti·ªÅn B·∫£o Hi·ªÉm) - Required
- ‚úÖ Premium Amount (Ph√≠ B·∫£o Hi·ªÉm) - Required

**Contract Period** (Th·ªùi H·∫°n):
- ‚úÖ Start Date (Ng√†y B·∫Øt ƒê·∫ßu) - Date Picker
- ‚úÖ End Date (Ng√†y K·∫øt Th√∫c) - Date Picker

**Actions**:
- ‚úÖ Submit / Save button (L∆∞u)
- ‚úÖ Cancel button (H·ªßy)

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-004: Insurance Contract Form - Validation Required Fields

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-004 |
| **Scenario** | Verify required field validation triggers correctly |
| **Priority** | P0 (Critical) |
| **Actor** | Insurance User / Admin |
| **FRD Mapping** | SCR-INS-003 (Form Validation) |
| **Implementation**: Zod validation schema |

### Pre-conditions
1. User is on `/insurance/contracts/create` page
2. Form is empty

### Test Steps
1. Leave all required fields empty
2. Click "L∆∞u" (Save) button
3. Observe validation errors

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- Form does NOT submit
- Validation error messages appear for ALL required fields:
  - Customer Name: "T√™n kh√°ch h√†ng l√† b·∫Øt bu·ªôc" (Customer name is required)
  - Phone Number: "S·ªë ƒëi·ªán tho·∫°i l√† b·∫Øt bu·ªôc" (Phone number is required)
  - Email: "Email l√† b·∫Øt bu·ªôc" (Email is required)
  - VIN: "S·ªë khung xe l√† b·∫Øt bu·ªôc" (VIN is required)
  - Make: "H√£ng xe l√† b·∫Øt bu·ªôc" (Make is required)
  - Model: "D√≤ng xe l√† b·∫Øt bu·ªôc" (Model is required)
  - Year: "NƒÉm s·∫£n xu·∫•t l√† b·∫Øt bu·ªôc" (Year is required)
  - Coverage Amount: "S·ªë ti·ªÅn b·∫£o hi·ªÉm l√† b·∫Øt bu·ªôc" (Coverage amount is required)
  - Premium Amount: "Ph√≠ b·∫£o hi·ªÉm l√† b·∫Øt bu·ªôc" (Premium is required)
  - Start Date: "Ng√†y b·∫Øt ƒë·∫ßu l√† b·∫Øt bu·ªôc" (Start date is required)
  - End Date: "Ng√†y k·∫øt th√∫c l√† b·∫Øt bu·ªôc" (End date is required)
- Error messages are displayed in red or highlighted appropriately
- Form remains open for user to correct errors

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-005: Insurance Contract Form - Email Format Validation

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-005 |
| **Scenario** | Verify email format validation |
| **Priority** | P1 (High) |
| **Actor** | Insurance User / Admin |
| **FRD Mapping** | Form Validation Best Practices |
| **Implementation**: Zod email() validation |

### Pre-conditions
1. User is on `/insurance/contracts/create` page

### Test Steps
1. Fill in Email field with invalid email: "invalid-email"
2. Click "L∆∞u" (Save) button
3. Observe validation error
4. Correct email to: "valid@example.com"
5. Click "L∆∞u" button again

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- Invalid email triggers validation error: "Email kh√¥ng h·ª£p l·ªá" (Invalid email format)
- Valid email clears validation error
- No error message appears with valid email format

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-006: Insurance Contract Form - Dropdowns Load Data

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-006 |
| **Scenario** | Verify dropdowns load data from Master Data |
| **Priority** | P0 (Critical) |
| **Actor** | Insurance User / Admin |
| **FRD Mapping** | SCR-INS-003 (Make/Model Dropdowns) |
| **Implementation**: API calls to Master Data |

### Pre-conditions
1. User is on `/insurance/contracts/create` page
2. Master Data contains at least 3 vehicle makes and 5 models

### Test Steps
1. Click on "H√£ng Xe" (Make) dropdown
2. Verify list of makes appears
3. Select a make (e.g., "Honda")
4. Click on "D√≤ng Xe" (Model) dropdown
5. Verify list of models appears for selected make

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- Make dropdown shows list of vehicle makes from Master Data
- At least 3 makes are visible (e.g., Honda, Yamaha, Piaggio)
- Selecting a make does NOT cause error
- Model dropdown loads models filtered by selected make
- At least 1 model is visible for the selected make
- Dropdowns are responsive and searchable (if search functionality exists)

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-007: Insurance Contract Form - Valid Data Submission

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-007 |
| **Scenario** | Submit valid insurance contract data |
| **Priority** | P0 (Critical) |
| **Actor** | Insurance User / Admin |
| **FRD Mapping** | SCR-INS-003 (POST /api/insurance/contracts) |
| **Implementation**: API endpoint + form submission |

### Pre-conditions
1. User is on `/insurance/contracts/create` page
2. At least 1 active customer exists in CRM

### Test Steps
1. Fill in all required fields with valid data:
   - Customer Name: "Nguy·ªÖn VƒÉn A"
   - Phone: "0901234567"
   - Email: "nguyena@example.com"
   - VIN: "VN123456789"
   - Make: Select "Honda"
   - Model: Select "SH Mode"
   - Year: "2024"
   - Provider: Select any active provider
   - Type: Select any policy type
   - Coverage Amount: "10000000"
   - Premium Amount: "500000"
   - Start Date: Select today's date
   - End Date: Select date 1 year from today
2. Click "L∆∞u" (Save) button

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- Form submits successfully
- Loading indicator appears briefly
- Success message displayed: "H·ª£p ƒë·ªìng ƒë√£ ƒë∆∞·ª£c t·∫°o th√†nh c√¥ng" (Contract created successfully)
- System redirects to Insurance Contracts List page
- New contract appears in the list
- New contract shows:
  - Customer name: "Nguy·ªÖn VƒÉn A"
  - Vehicle: "Honda SH Mode"
  - Status: Active (or appropriate status)

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-008: Insurance Contract Form - Cancel Action

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-008 |
| **Scenario** | Cancel contract creation and return to list |
| **Priority** | P1 (High) |
| **Actor** | Insurance User / Admin |
| **FRD Mapping** | SCR-INS-003 (Cancel Action) |
| **Implementation**: Navigation router |

### Pre-conditions
1. User is on `/insurance/contracts/create` page
2. User has partially filled in form data

### Test Steps
1. Click "H·ªßy" (Cancel) button

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- System returns to Insurance Contracts List page (`/insurance/contracts`)
- No confirmation dialog (cancel is immediate)
- Form data is NOT saved
- No error messages appear
- List page loads successfully

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-009: Insurance Claims - Navigate to Create Page

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-009 |
| **Scenario** | Navigate to Insurance Claim Create page |
| **Priority** | P0 (Critical) |
| **Actor** | Insurance User / Admin |
| **FRD Mapping** | SCR-INS-004 |
| **Implementation**: `app/(main)/insurance/claims/create/page.tsx` |

### Pre-conditions
1. User is logged in with Insurance User or Admin role
2. At least 1 active insurance contract exists

### Test Steps
1. Click on "B·∫£o Hi·ªÉm" (Insurance) menu group in sidebar
2. Click on "Y√™u C·∫ßu B·ªìi Th∆∞·ªùng" (Claims) menu item
3. On Claims List page, click the "T·∫°o Y√™u C·∫ßu M·ªõi" (Create New Claim) button

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- System navigates to `/insurance/claims/create` route
- Page loads successfully without errors
- Page title shows: "T·∫°o Y√™u C·∫ßu M·ªõi" (Create New Claim) or similar
- Form is displayed with all required sections

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-010: Insurance Claim Form - Display All Fields

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-010 |
| **Scenario** | Verify all required fields are displayed on Claim Create form |
| **Priority** | P0 (Critical) |
| **Actor** | Insurance User / Admin |
| **FRD Mapping** | SCR-INS-004 |
| **Implementation**: `components/insurance/InsuranceClaimForm.tsx` |

### Pre-conditions
1. User is on `/insurance/claims/create` page

### Test Steps
1. Scroll through the entire form
2. Identify all form sections and fields
3. Check that each field has a proper label

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
Form displays the following sections and fields:

**Contract Selection** (Ch·ªçn H·ª£p ƒê·ªìng):
- ‚úÖ Contract Dropdown - Searchable dropdown to select insurance contract
- ‚úÖ Dropdown displays contract number, customer name, and vehicle info

**Incident Details** (Chi Ti·∫øt S·ª± C·ªë):
- ‚úÖ Incident Date (Ng√†y S·ª± C·ªë) - Date Picker
- ‚úÖ Incident Time (Gi·ªù S·ª± C·ªë) - Time Picker (optional)
- ‚úÖ Location (ƒê·ªãa ƒêi·ªÉm) - Text field
- ‚úÖ Description (M√¥ T·∫£) - Text Area (required)

**Claim Information** (Th√¥ng Tin Y√™u C·∫ßu):
- ‚úÖ Claim Amount (S·ªë Ti·ªÅn Y√™u C·∫ßu) - Number field
- ‚úÖ Estimated Repair Cost (Chi Ph√≠ S·ª≠a Ch·ªØa D·ª± Ki·∫øn) - Number field (optional)

**Supporting Documents** (T√†i Li·ªáu H·ªó Tr·ª£):
- ‚úÖ Photo Upload (T·∫£i L√™n ·∫¢nh) - Multi-file uploader
- ‚úÖ Supported formats displayed (JPG, PNG, PDF)
- ‚úÖ Maximum file size displayed

**Actions**:
- ‚úÖ Submit button (G·ª≠i)
- ‚úÖ Cancel button (H·ªßy)

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-011: Insurance Claim Form - Contract Selection

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-011 |
| **Scenario** | Search and select insurance contract |
| **Priority** | P0 (Critical) |
| **Actor** | Insurance User / Admin |
| **FRD Mapping** | SCR-INS-004 (Contract Searchable Dropdown) |
| **Implementation**: Searchable dropdown component |

### Pre-conditions
1. User is on `/insurance/claims/create` page
2. At least 3 active insurance contracts exist

### Test Steps
1. Click on Contract dropdown
2. Type customer name or contract number in search box
3. Verify search results appear
4. Select a contract from the list

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- Dropdown shows list of active insurance contracts
- Each contract displays:
  - Contract Number
  - Customer Name
  - Vehicle Make/Model
- Search functionality filters contracts as user types
- Selecting a contract:
  - Dropdown closes
  - Selected contract is displayed in the field
  - No error message appears

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-012: Insurance Claim Form - Photo Upload

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-012 |
| **Scenario** | Upload multiple photos for claim evidence |
| **Priority** | P1 (High) |
| **Actor** | Insurance User / Admin |
| **FRD Mapping** | SCR-INS-004 (Photo Upload) |
| **Implementation**: Multi-file upload component |

### Pre-conditions
1. User is on `/insurance/claims/create` page
2. User has prepared test image files (JPG/PNG) on local machine

### Test Steps
1. Click on "T·∫£i L√™n ·∫¢nh" (Upload Photo) area
2. Select 2-3 image files from local machine
3. Observe upload preview
4. Remove one image (if remove functionality exists)

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- File picker dialog opens
- Multiple files can be selected at once
- Selected images appear as previews with:
  - Thumbnail
  - File name
  - File size
- Upload progress indicator appears (if uploading to server)
- Remove button allows user to delete selected images
- Maximum file size limit is enforced (e.g., "File too large" error if > 5MB)
- Unsupported file types are rejected (e.g., .exe, .doc)

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-013: Insurance Claim Form - Valid Data Submission

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-013 |
| **Scenario** | Submit valid insurance claim data |
| **Priority** | P0 (Critical) |
| **Actor** | Insurance User / Admin |
| **FRD Mapping** | SCR-INS-004 (POST /api/insurance/claims) |
| **Implementation**: API endpoint + form submission |

### Pre-conditions
1. User is on `/insurance/claims/create` page
2. At least 1 active insurance contract exists

### Test Steps
1. Select an active contract from dropdown
2. Fill in required fields:
   - Incident Date: Select today's date
   - Description: "Xe b·ªã va ch·∫°m nh·∫π ·ªü g√≥c tr√°i" (Vehicle had minor collision on left corner)
   - Claim Amount: "2000000"
3. Upload 1-2 photo files
4. Click "G·ª≠i" (Submit) button

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- Form submits successfully
- Loading indicator appears briefly
- Success message displayed: "Y√™u c·∫ßu ƒë√£ ƒë∆∞·ª£c g·ª≠i th√†nh c√¥ng" (Claim submitted successfully)
- System redirects to Insurance Claims List page
- New claim appears in the list
- New claim shows:
  - Contract number
  - Incident date
  - Claim status: "Pending" or "Ch·ªù X·ª≠ L√Ω"

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-014: Insurance Claim Form - Cancel Action

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-014 |
| **Scenario** | Cancel claim creation and return to list |
| **Priority** | P1 (High) |
| **Actor** | Insurance User / Admin |
| **FRD Mapping** | SCR-INS-004 (Cancel Action) |
| **Implementation**: Navigation router |

### Pre-conditions
1. User is on `/insurance/claims/create` page
2. User has partially filled in form data

### Test Steps
1. Click "H·ªßy" (Cancel) button

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- System returns to Insurance Claims List page (`/insurance/claims`)
- No confirmation dialog (cancel is immediate)
- Form data is NOT saved
- No error messages appear
- List page loads successfully

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-015: Form Navigation - Back Button Support

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-015 |
| **Scenario** | Browser back button works correctly |
| **Priority** | P2 (Medium) |
| **Actor** | Insurance User / Admin |
| **FRD Mapping** | UX Best Practices |
| **Implementation**: React Router history |

### Pre-conditions
1. User is on Contract Create or Claim Create page
2. User has filled in some form data

### Test Steps
1. Click browser's Back button
2. Observe navigation behavior

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- System navigates to previous page (Contracts/Claims list)
- No errors or crashes occur
- Navigation is smooth
- Optionally: Confirmation dialog may appear ("You have unsaved changes. Are you sure?")

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-016: Responsive Design - Mobile View

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-016 |
| **Scenario** | Forms display correctly on mobile devices |
| **Priority** | P2 (Medium) |
| **Actor** | Insurance User / Admin |
| **FRD Mapping** | UI Responsiveness |
| **Implementation**: Responsive CSS (Tailwind) |

### Pre-conditions
1. User has access to mobile device or browser DevTools

### Test Steps
1. Open DevTools ‚Üí Toggle device toolbar
2. Select mobile device (e.g., iPhone 12)
3. Navigate to `/insurance/contracts/create`
4. Scroll through form
5. Repeat for `/insurance/claims/create`

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- Forms are readable on mobile screen
- Fields are properly stacked vertically
- No content overflow or horizontal scrolling required
- Dropdowns are accessible and functional
- Buttons are large enough to tap
- Date pickers work correctly on mobile
- Photo upload button is accessible

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-017: Form Persistence - Validation Retains Data

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-017 |
| **Scenario** | Form data is retained after validation error |
| **Priority** | P2 (Medium) |
| **Actor** | Insurance User / Admin |
| **FRD Mapping** | UX Best Practices |
| **Implementation**: React Hook Form state management |

### Pre-conditions
1. User is on Contract Create page

### Test Steps
1. Fill in all fields with valid data
2. Leave 1 required field empty (e.g., Email)
3. Click "L∆∞u" (Save) button
4. Observe validation error
5. Fill in the missing field
6. Click "L∆∞u" again

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- Validation error appears for missing field
- All previously filled fields RETAIN their values
- User does NOT need to re-enter any data
- After filling missing field, form submits successfully

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-018: Date Validation - End Date After Start Date

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-018 |
| **Scenario** | End date must be after start date |
| **Priority** | P1 (High) |
| **Actor** | Insurance User / Admin |
| **FRD Mapping** | Business Rule (Contract Duration) |
| **Implementation**: Zod date validation |

### Pre-conditions
1. User is on Contract Create page

### Test Steps
1. Select Start Date: 01/02/2026
2. Select End Date: 31/01/2026 (BEFORE start date)
3. Click "L∆∞u" (Save) button

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- Form does NOT submit
- Validation error appears: "Ng√†y k·∫øt th√∫c ph·∫£i sau ng√†y b·∫Øt ƒë·∫ßu" (End date must be after start date)
- Error message is clear and understandable
- User can correct the dates and try again

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-019: Permission - Non-Admin Access

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-019 |
| **Scenario** | Insurance User can access create pages |
| **Priority** | P1 (High) |
| **Actor** | Insurance User (not Admin) |
| **FRD Mapping** | Access Control |
| **Implementation**: Role-based access control |

### Pre-conditions
1. User is logged in as Insurance User (not Admin)

### Test Steps
1. Navigate to `/insurance/contracts/create`
2. Observe if page loads
3. Navigate to `/insurance/claims/create`
4. Observe if page loads

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- Both create pages load successfully
- Forms are accessible and functional
- No "Access Denied" or permission errors appear
- Insurance User can submit forms (if role has write permission)

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-020: Data Storage - Verify Contract in Database

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-020 |
| **Scenario** | Contract data is correctly stored in database |
| **Priority** | P1 (High) |
| **Actor** | Admin / QA |
| **FRD Mapping** | Data Persistence |
| **Implementation**: Database table `insurance_contracts` |

### Pre-conditions
1. A new contract was successfully created via form in TC-UAT-007
2. Admin has database access or can query via API

### Test Steps
1. Query the database for the newly created contract
2. OR call GET `/api/insurance/contracts` to retrieve list
3. Locate the newly created contract
4. Verify all fields match submitted data

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- Contract exists in database
- All fields match the data submitted in TC-UAT-007:
  - Customer Name: "Nguy·ªÖn VƒÉn A"
  - Phone: "0901234567"
  - Email: "nguyena@example.com"
  - VIN: "VN123456789"
  - Make: "Honda"
  - Model: "SH Mode"
  - Year: "2024"
  - Coverage Amount: "10000000"
  - Premium Amount: "500000"
  - Start Date and End Date: Correct dates
- Contract status is "ACTIVE" or appropriate initial status
- Created timestamp is recorded

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-021: Data Storage - Verify Claim in Database

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-021 |
| **Scenario** | Claim data is correctly stored in database |
| **Priority** | P1 (High) |
| **Actor** | Admin / QA |
| **FRD Mapping** | Data Persistence |
| **Implementation**: Database table `insurance_claims` |

### Pre-conditions
1. A new claim was successfully created via form in TC-UAT-013
2. Admin has database access or can query via API

### Test Steps
1. Query the database for the newly created claim
2. OR call GET `/api/insurance/claims` to retrieve list
3. Locate the newly created claim
4. Verify all fields match submitted data

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- Claim exists in database
- All fields match the data submitted in TC-UAT-013:
  - Contract ID: Matches selected contract
  - Incident Date: Correct date
  - Description: "Xe b·ªã va ch·∫°m nh·∫π ·ªü g√≥c tr√°i"
  - Claim Amount: "2000000"
  - Photos: Uploaded files are linked to claim
- Claim status is "PENDING" or "CH·ªú X·ª¨ L√ù"
- Created timestamp is recorded

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## TC-UAT-022: Performance - Form Load Time

| Field | Value |
|-------|-------|
| **TC ID** | TC-UAT-022 |
| **Scenario** | Forms load within acceptable time |
| **Priority** | P2 (Medium) |
| **Actor** | Any User |
| **FRD Mapping** | Performance Requirements |
| **Implementation**: React lazy loading + API optimization |

### Pre-conditions
1. Browser DevTools is open

### Test Steps
1. Open DevTools ‚Üí Network tab
2. Navigate to `/insurance/contracts/create`
3. Measure page load time
4. Navigate to `/insurance/claims/create`
5. Measure page load time

### Expected Result
‚úÖ **PASS IF ALL BELOW MET**:
- Contract Create page loads within 2 seconds
- Claim Create page loads within 2 seconds
- API calls for dropdowns complete within 500ms
- No noticeable lag or freezing
- Forms are interactive immediately after load

### Actual Result
_(Leave blank during UAT)_

### Pass/Fail
_(Leave blank during UAT)_

---

## üìä Test Summary

| Priority | Count | Test Cases |
|----------|-------|------------|
| P0 (Critical) | 13 | TC-UAT-001 to TC-UAT-013 |
| P1 (High) | 6 | TC-UAT-005, TC-UAT-008, TC-UAT-011 to TC-UAT-014, TC-UAT-018, TC-UAT-019, TC-UAT-020, TC-UAT-021 |
| P2 (Medium) | 4 | TC-UAT-015 to TC-UAT-017, TC-UAT-022 |
| **TOTAL** | **22** | **All test cases** |

---

## ‚úÖ UAT Exit Criteria

UAT is considered **PASSED** when:

1. **All P0 (Critical) Test Cases Pass** ‚úÖ
   - TC-UAT-001 to TC-UAT-013 all pass

2. **At Least 90% of P1 (High) Test Cases Pass** ‚úÖ
   - 8 out of 9 P1 tests pass

3. **No Critical Issues Found** ‚úÖ
   - No application crashes
   - No data corruption
   - No security vulnerabilities
   - Forms submit successfully

4. **Data Persistence Verified** ‚úÖ
   - Contracts saved correctly to database
   - Claims saved correctly to database
   - No data loss during submission

5. **Business Requirements Met** ‚úÖ
   - Navigation menu order is correct
   - Contract creation works end-to-end
   - Claim creation works end-to-end
   - Form validation prevents invalid data

---

## üìù UAT Execution Instructions

### Before Starting UAT

1. **Verify UAT Environment**
   - UAT URL is accessible: `uat.honda-spice.com`
   - Login works with test users

2. **Test Data Setup**
   ```sql
   -- Ensure test customers exist
   INSERT INTO customers (name, phone, email) VALUES
     ('Nguy·ªÖn VƒÉn A', '0901234567', 'nguyena@example.com'),
     ('Tr·∫ßn Th·ªã B', '0912345678', 'tranthib@example.com');

   -- Ensure insurance providers exist
   INSERT INTO insurance_providers (name, type) VALUES
     ('B·∫£o Vi·ªát', 'Comprehensive'),
     ('B·∫£o Minh', 'Third Party');

   -- Ensure test contract exists (for claim creation)
   INSERT INTO insurance_contracts (customer_id, vin, make, model, status) VALUES
     (customer_id_uuid, 'VN987654321', 'Honda', 'Vision', 'ACTIVE');
   ```

3. **Test Users**
   - Create `uat_insurance_user@honda.com` with Insurance User role
   - Create `uat_admin@honda.com` with Admin role

### During UAT

1. **Use Test Execution Log**
   - Record each test case result
   - Note any issues or defects
   - Take screenshots of failures

2. **Defect Reporting**
   - For failed tests, create bug reports in issue tracker
   - Include: TC ID, Steps to Reproduce, Expected vs Actual, Screenshots

### After UAT

1. **Compile Results**
   - Calculate pass/fail rate
   - Identify critical issues
   - Prepare UAT Report

2. **UAT Decision**
   - **PASS**: Ready for production deployment
   - **PASS WITH CONDITIONS**: Minor issues to be fixed post-deployment
   - **FAIL**: Critical issues must be fixed before deployment

---

## üîó Traceability Matrix

| TC ID | Feature | FRD Requirement | Screen |
|-------|---------|----------------|---------|
| TC-UAT-001 | Navigation Order | UI Spec v1.5 | App.tsx / menu-list.ts |
| TC-UAT-002 | Contract Create Navigation | SCR-INS-003 | Contracts List ‚Üí Create |
| TC-UAT-003 | Contract Form Display | SCR-INS-003 | InsuranceContractForm.tsx |
| TC-UAT-004 | Contract Validation | SCR-INS-003 | InsuranceContractForm.tsx |
| TC-UAT-005 | Email Validation | Form Best Practices | InsuranceContractForm.tsx |
| TC-UAT-006 | Dropdown Data Loading | SCR-INS-003 | InsuranceContractForm.tsx |
| TC-UAT-007 | Contract Submission | SCR-INS-003 | POST /api/insurance/contracts |
| TC-UAT-008 | Contract Cancel | SCR-INS-003 | Contracts Create Page |
| TC-UAT-009 | Claim Create Navigation | SCR-INS-004 | Claims List ‚Üí Create |
| TC-UAT-010 | Claim Form Display | SCR-INS-004 | InsuranceClaimForm.tsx |
| TC-UAT-011 | Claim Contract Selection | SCR-INS-004 | InsuranceClaimForm.tsx |
| TC-UAT-012 | Claim Photo Upload | SCR-INS-004 | InsuranceClaimForm.tsx |
| TC-UAT-013 | Claim Submission | SCR-INS-004 | POST /api/insurance/claims |
| TC-UAT-014 | Claim Cancel | SCR-INS-004 | Claims Create Page |
| TC-UAT-015 | Browser Back Button | UX Best Practices | Both Forms |
| TC-UAT-016 | Responsive Design | UX Best Practices | Both Forms |
| TC-UAT-017 | Form Data Persistence | UX Best Practices | Both Forms |
| TC-UAT-018 | Date Validation | Business Rule | InsuranceContractForm.tsx |
| TC-UAT-019 | Access Control | Access Control | Both Forms |
| TC-UAT-020 | Contract Data Storage | Data Persistence | Database / API |
| TC-UAT-021 | Claim Data Storage | Data Persistence | Database / API |
| TC-UAT-022 | Performance | Performance Requirements | Both Forms |

---

## üìû Contact & Support

**UAT Coordinator**: Antigravity (Business Analyst)  
**Technical Support**: OpenCode (Implementation Team)  
**UAT Questions**: Contact Antigravity  
**Bug Reports**: Use issue tracker or email support@honda-spice.com

---

## üìÑ Document History

| Version | Date | Author | Changes |
|---------|------|--------|---------|
| v1.0 | 03/02/2026 | Antigravity | Initial UAT plan for CR-20260201-005 |

---

**END OF UAT PLAN**
